using gui;

var window = gui.Window();
window.title("Calculator");

// Main container
var layout = gui.FlexBox()
	~> .fill()
	~> .direction("vertical");
window.add_content(layout);

// Display
var display = gui.Text()
	~> .height(100)
	~> .text("0");
layout.add(display);

// Buttons
var buttons = gui.Grid()
	~> .expand(true)
	~> .columns(4);
layout.add(buttons);

function calc_button(label: str, callback: function) -> gui.Button {
	return gui.Button()
		~> .expand(true)
		~> .text(label)
		~> .on_click(callback);
}

function clear() { display.text(""); }
function lbrace() { display.text(display.get_text() ~ "(") }

buttons.add(calc_button("AC", clear));
buttons.add(calc_button("(", lbrace));